<html>
<head>
  <title>CSCI 150 - Lab 12 - Graphics and Animation</title>
  <link rel="stylesheet" type="text/css" title="Default" href="../style.css">
</head>

<body>
<h1><a href="../index.html">CSCI 150</a> - Lab 12<br>Graphics and Animation</h1>

<h2>Materials</h2>
<ul>
  <li><a href="https://processing.org/">Processing</a></li>
  <li><a href="http://py.processing.org/reference/">Python Mode Reference</a></li>
</ul>

<h2>Overview</h2>
We have created graphics and patterns using the turtle module in Python. This lab 
explores a complete graphical animation framework called Processing, using the Python
module.
<p>
For today's lab, download the latest version of Processing (3.0.1) for your operating
system. Once downloaded and opened, you will find in the upper-left corner of the 
screen a box that says "Java". Select this box, and choose "Add Mode". Select 
"Python Mode for Processing 3" and then click "Install" in the lower-right 
portion of the Mode window. You are now ready to work through the lab.

<h2>Step 1 - Faces</h2>
When we draw on the screen, we first need to be familiar with the
coordinate system. We denote the width as x and the height as y.
Most computer graphics modules, Processing included,
specify that the x, y origin (0,0) is located in the upper-left corner of the screen.
<p>
There are three common things to draw in Processing, an ellipse, a rectangle, and a line.
Write the following lines of code in Processing and press the Play button.
<p>
<pre>
ellipse(10, 10, 20, 20)
rect(10, 10, 20, 20)
line(10, 10, 20, 20)
</pre>
<p>
You should see an image like this:
<p>
<img width="150" src="../images/processing1.png">
<p>
An ellipse takes four arguments, the first two being the x, y center of the ellipse,
followed by the width, then the height. A rect also takes four arguments, the
first two being the upper-left coordinate of the rectangle, again followed
by width and height. A line takes four arguments, the first two being
the starting x, y coordinate, and the last two being the ending x, y coordinate.
<p>
Also, notice that the first thing to be drawn is covered by the images
that follow. This indicates that the way that images are drawn, 
their <a href="https://en.wikipedia.org/wiki/Z-order">Z-order</a>, is based on time.
<p>

<h3>Task</h3>
Use ellipse, rect, and line to draw a face on the screen. At a minimum, the face should
have eyes, ears, a mouth and a nose. You can find more shapes on the 
<a href="http://py.processing.org/reference/">Python Reference for Processing</a> page.

<h2>Step 2 - Colors</h2>
Three different portions of our drawing can be altered to include colors. Recall
the hexadecimal representation of colors discussed earlier in class, where the
computer understands a color to be composed of three components, Red, Green, and Blue.
Each of the three functions below take a hex string as an argument denoting the color.
<p>
The background function will paint the whole screen the given color. The fill 
function changes the color to be painted within the ellipse or rect images. The
stroke function changes the color to be painted as the border for all three
images above.
<p>
<pre>
background("#FFFFFF")
fill("#00FFFF")
stroke("#FF0000")
</pre>
<p>
There is only one pen being used for Processing, so if we want to change colors
of the things we draw, we need to call <code>fill</code> or <code>stroke</code>
in between each of our drawing calls.
<p>
It will be convenient to have some of our basic colors defined in a dictionary.
<pre>
COLORS = {"black":"#000000", "white":"#FFFFFF",
          "red":"#FF0000", "green":"#00FF00",
          "blue":"#0000FF", "yellow":"#FFFF00",
          "orange":"#FFA500", "purple":"#9B30FF"}
</pre>

<h3>Task</h3>
Use the above shapes and color functions, along with any others you might 
find useful on the
<a href="http://py.processing.org/reference/">Python Processing Reference</a>
page, to enhance your earlier image of a face.

<h2>Step 3 - Functions</h2>
As our program is about to get more complicated, it is a good idea to start using
functions. There are two important functions that come with Processing by default.
<h3>Setup</h3>
The setup function is the first thing called by your program. In this function, you
should first set up the screen size.
<p>
The default screen size is 100 x 100. This can be changed by adding the following
function call at the beginning of your code, for example, to make a screen
with a width of 640 pixels and height of 480 pixels:
<pre>
def setup():
	size(640, 480)
</pre>

<h3>Draw</h3>
The draw function is called by Processing for every frame of the animation.
Put your earlier face code in this draw function, and press play. For example:
<p>
<pre>
def draw():
	background(COLORS["black"])
	fill(COLORS["red"])
	stroke(COLORS["green"])
	ellipse(50, 50, 100, 100)
	fill(COLORS["yellow"])
	ellipse(25, 25, 35, 35)
	ellipse(75, 25, 35, 35)
	stroke(COLORS["orange"])
	line(30, 80, 70, 80)
</pre>
<p>
It should look
exactly the same as it did above, but now we will have the ability to change the face
for each frame.

<h2>Step 4 - Faces in Space</h2>
All of our images so far have been static. To add animations, we need to start
remembering the state of our images and creating methods for how it will change.
The natural way to do this is to create new object, and in particular, we will
be representing Faces floating in space.
<p>
We will represent a Face with a class in Python. The face will need to remember
the x,y coordinates for the center of the face. We will also remember the base color
use for the case, in the example above, this was red. Notice how the draw function
abstracts away the initial face to be centered around any x,y coordinates. This will 
let us move the face around the screen.
<p>
<pre>
class Face:
	def __init__(self, x, y, color):
		self.x = x
		self.y = y
		self.color = color
		
	def draw(self):
		fill(self.color)
		stroke(COLORS["green"])
		ellipse(self.x, self.y, 100, 100)
		fill(COLORS["yellow"])
		ellipse(self.x - 25, self.y - 25, 35, 35)
		ellipse(self.x + 25, self.y - 25, 35, 35)
		stroke(COLORS["orange"])
		line(self.x - 20, self.y + 30, self.y + 20, self.y + 30)
</pre>
<p>
We will collect our Face instances in a list called faces, declared outside of any
of the above functions.
<p>
<pre>
faces = []
</pre>
<p>
And change our setup and draw functions to initialize the face and draw it, respectively.
<p>
<pre>
def setup():
    size(640, 480)
    faces.append(Face(50, 50, COLORS["red"]))
    
def draw():
    background("#000000")
    for f in faces:
        f.draw()
</pre>
<p>
Try moving your face around the screen, and changing its color, 
by altering the arguments you use to 
create the Face in the setup function.

<h3>Task</h3>
Add a size component to your Face, so the setup method can also initialize the
size. Change your draw method of Face to account for this new size component, and
test it out by drawing smaller and larger faces.

<h2>Step 5 - Movement</h2>
update to add 1 to x and y
	
Add in velocity

Add in wall bouncing

<h2>Step 6 - Interaction</h2>
Mouse

keyboard




import random

class Ball():
    
    def __init__(self, pos, size, bcolor):
        self.x = pos[0]
        self.y = pos[1]
        self.vx = 10 * (random.random() - .5)
        self.vy = 10 * (random.random() - .5)
        self.size = size
        self.bcolor = bcolor
        
    def update(self):
        self.x += self.vx
        self.y += self.vy
        if self.x >= WIDTH - self.size/2 or self.x <= self.size/2:
            self.vx *= -1        
        if self.y >= HEIGHT - self.size/2 or self.y <= self.size/2:
            self.vy *= -1
        self.draw()
            
    def draw(self):
        fill(self.bcolor[0], self.bcolor[1], self.bcolor[2])
        ellipse(self.x, self.y, self.size, self.size)
        ellipse(self.x - 5, self.y - 4, self.size/5, self.size/5)
        ellipse(self.x + 5, self.y - 4, self.size/5, self.size/5)
        ellipse(self.x, self.y +3, self.size/3, self.size/3)

g = []
WIDTH = 640
HEIGHT = 480

def setup():
    size(WIDTH, HEIGHT)
    for i in range(1000):
        s = random.randint(10, 50)
        g.append(Ball((random.randint(s, WIDTH - s), random.randint(s, HEIGHT - s)),
                   s,
                   (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255))))

def draw():
    background(255,255,255)
    for b in g:
        b.update()

def mouseClicked():
    s = random.randint(10, 50)
    g.append(Ball((mouseX, mouseY),
                   s,
                   (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255))))
        

<h2>What to Hand In</h2>
Turn in your code via Moodle. Make sure
you have followed the <a href="../python_style_guide.html">Python Style Guide</a>, and
have run your project through the Automated Style Checker.<p>
You must hand in:
<ul>
  <li><code>waterjug.py</code></li>
</ul>

<h2>Grading</h2>
<ul>
  <li>To earn a D on this lab, complete Step 1.</li>
  <li>To earn a B on this lab, do all the above and complete Step 2.</li>
  <li>To earn an A on this lab, do all the above and complete Step 3.</li>
  <li>To earn a 100 on this lab, do all the above and </li>
</ul>

<hr>
<small>&copy; Mark Goadrich and Brent Yorgey, Hendrix College</small>
</BODY>
</HTML>
